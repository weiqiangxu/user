package main

import (
	"context"
	"encoding/json"
	"fmt"
	"strings"
	"testing"

	"code.skyhorn.net/backend/common/database"
	commonConfig "code.skyhorn.net/backend/infra/common-config"
	"code.skyhorn.net/backend/wiki-service/global"
)

type MobaHero struct {
	UniqueId  string   `bson:"unique_id" json:"unique_id"`
	GameId    string   `bson:"game_id" json:"game_id"`
	BusId     int      `bson:"bus_id" json:"bus_id"`
	Name      string   `bson:"name" json:"name"`
	NameZh    string   `bson:"name_zh" json:"name_zh"`
	NameEn    string   `bson:"name_en" json:"name_en"`
	NameShort string   `bson:"name_short" json:"name_short"`
	Tag       []string `bson:"tag" json:"tag"`
	Icon      string   `bson:"icon" json:"icon"`
	Status    int8     `bson:"status" json:"status"`
}

type heroe struct {
	Name          string `json:"name"`
	Id            int    `json:"id"`
	LocalizedName string `json:"localized_name"`
}

var (
	str_en = `[{"name":"npc_dota_hero_antimage","id":1,"localized_name":"Anti-Mage"},{"name":"npc_dota_hero_axe","id":2,"localized_name":"Axe"},{"name":"npc_dota_hero_bane","id":3,"localized_name":"Bane"},{"name":"npc_dota_hero_bloodseeker","id":4,"localized_name":"Bloodseeker"},{"name":"npc_dota_hero_crystal_maiden","id":5,"localized_name":"Crystal Maiden"},{"name":"npc_dota_hero_drow_ranger","id":6,"localized_name":"Drow Ranger"},{"name":"npc_dota_hero_earthshaker","id":7,"localized_name":"Earthshaker"},{"name":"npc_dota_hero_juggernaut","id":8,"localized_name":"Juggernaut"},{"name":"npc_dota_hero_mirana","id":9,"localized_name":"Mirana"},{"name":"npc_dota_hero_nevermore","id":11,"localized_name":"Shadow Fiend"},{"name":"npc_dota_hero_morphling","id":10,"localized_name":"Morphling"},{"name":"npc_dota_hero_phantom_lancer","id":12,"localized_name":"Phantom Lancer"},{"name":"npc_dota_hero_puck","id":13,"localized_name":"Puck"},{"name":"npc_dota_hero_pudge","id":14,"localized_name":"Pudge"},{"name":"npc_dota_hero_razor","id":15,"localized_name":"Razor"},{"name":"npc_dota_hero_sand_king","id":16,"localized_name":"Sand King"},{"name":"npc_dota_hero_storm_spirit","id":17,"localized_name":"Storm Spirit"},{"name":"npc_dota_hero_sven","id":18,"localized_name":"Sven"},{"name":"npc_dota_hero_tiny","id":19,"localized_name":"Tiny"},{"name":"npc_dota_hero_vengefulspirit","id":20,"localized_name":"Vengeful Spirit"},{"name":"npc_dota_hero_windrunner","id":21,"localized_name":"Windranger"},{"name":"npc_dota_hero_zuus","id":22,"localized_name":"Zeus"},{"name":"npc_dota_hero_kunkka","id":23,"localized_name":"Kunkka"},{"name":"npc_dota_hero_lina","id":25,"localized_name":"Lina"},{"name":"npc_dota_hero_lich","id":31,"localized_name":"Lich"},{"name":"npc_dota_hero_lion","id":26,"localized_name":"Lion"},{"name":"npc_dota_hero_shadow_shaman","id":27,"localized_name":"Shadow Shaman"},{"name":"npc_dota_hero_slardar","id":28,"localized_name":"Slardar"},{"name":"npc_dota_hero_tidehunter","id":29,"localized_name":"Tidehunter"},{"name":"npc_dota_hero_witch_doctor","id":30,"localized_name":"Witch Doctor"},{"name":"npc_dota_hero_riki","id":32,"localized_name":"Riki"},{"name":"npc_dota_hero_enigma","id":33,"localized_name":"Enigma"},{"name":"npc_dota_hero_tinker","id":34,"localized_name":"Tinker"},{"name":"npc_dota_hero_sniper","id":35,"localized_name":"Sniper"},{"name":"npc_dota_hero_necrolyte","id":36,"localized_name":"Necrophos"},{"name":"npc_dota_hero_warlock","id":37,"localized_name":"Warlock"},{"name":"npc_dota_hero_beastmaster","id":38,"localized_name":"Beastmaster"},{"name":"npc_dota_hero_queenofpain","id":39,"localized_name":"Queen of Pain"},{"name":"npc_dota_hero_venomancer","id":40,"localized_name":"Venomancer"},{"name":"npc_dota_hero_faceless_void","id":41,"localized_name":"Faceless Void"},{"name":"npc_dota_hero_skeleton_king","id":42,"localized_name":"Wraith King"},{"name":"npc_dota_hero_death_prophet","id":43,"localized_name":"Death Prophet"},{"name":"npc_dota_hero_phantom_assassin","id":44,"localized_name":"Phantom Assassin"},{"name":"npc_dota_hero_pugna","id":45,"localized_name":"Pugna"},{"name":"npc_dota_hero_templar_assassin","id":46,"localized_name":"Templar Assassin"},{"name":"npc_dota_hero_viper","id":47,"localized_name":"Viper"},{"name":"npc_dota_hero_luna","id":48,"localized_name":"Luna"},{"name":"npc_dota_hero_dragon_knight","id":49,"localized_name":"Dragon Knight"},{"name":"npc_dota_hero_dazzle","id":50,"localized_name":"Dazzle"},{"name":"npc_dota_hero_rattletrap","id":51,"localized_name":"Clockwerk"},{"name":"npc_dota_hero_leshrac","id":52,"localized_name":"Leshrac"},{"name":"npc_dota_hero_furion","id":53,"localized_name":"Nature's Prophet"},{"name":"npc_dota_hero_life_stealer","id":54,"localized_name":"Lifestealer"},{"name":"npc_dota_hero_dark_seer","id":55,"localized_name":"Dark Seer"},{"name":"npc_dota_hero_clinkz","id":56,"localized_name":"Clinkz"},{"name":"npc_dota_hero_omniknight","id":57,"localized_name":"Omniknight"},{"name":"npc_dota_hero_enchantress","id":58,"localized_name":"Enchantress"},{"name":"npc_dota_hero_huskar","id":59,"localized_name":"Huskar"},{"name":"npc_dota_hero_night_stalker","id":60,"localized_name":"Night Stalker"},{"name":"npc_dota_hero_broodmother","id":61,"localized_name":"Broodmother"},{"name":"npc_dota_hero_bounty_hunter","id":62,"localized_name":"Bounty Hunter"},{"name":"npc_dota_hero_weaver","id":63,"localized_name":"Weaver"},{"name":"npc_dota_hero_jakiro","id":64,"localized_name":"Jakiro"},{"name":"npc_dota_hero_batrider","id":65,"localized_name":"Batrider"},{"name":"npc_dota_hero_chen","id":66,"localized_name":"Chen"},{"name":"npc_dota_hero_spectre","id":67,"localized_name":"Spectre"},{"name":"npc_dota_hero_doom_bringer","id":69,"localized_name":"Doom"},{"name":"npc_dota_hero_ancient_apparition","id":68,"localized_name":"Ancient Apparition"},{"name":"npc_dota_hero_ursa","id":70,"localized_name":"Ursa"},{"name":"npc_dota_hero_spirit_breaker","id":71,"localized_name":"Spirit Breaker"},{"name":"npc_dota_hero_gyrocopter","id":72,"localized_name":"Gyrocopter"},{"name":"npc_dota_hero_alchemist","id":73,"localized_name":"Alchemist"},{"name":"npc_dota_hero_invoker","id":74,"localized_name":"Invoker"},{"name":"npc_dota_hero_silencer","id":75,"localized_name":"Silencer"},{"name":"npc_dota_hero_obsidian_destroyer","id":76,"localized_name":"Outworld Destroyer"},{"name":"npc_dota_hero_lycan","id":77,"localized_name":"Lycan"},{"name":"npc_dota_hero_brewmaster","id":78,"localized_name":"Brewmaster"},{"name":"npc_dota_hero_shadow_demon","id":79,"localized_name":"Shadow Demon"},{"name":"npc_dota_hero_lone_druid","id":80,"localized_name":"Lone Druid"},{"name":"npc_dota_hero_chaos_knight","id":81,"localized_name":"Chaos Knight"},{"name":"npc_dota_hero_meepo","id":82,"localized_name":"Meepo"},{"name":"npc_dota_hero_treant","id":83,"localized_name":"Treant Protector"},{"name":"npc_dota_hero_ogre_magi","id":84,"localized_name":"Ogre Magi"},{"name":"npc_dota_hero_undying","id":85,"localized_name":"Undying"},{"name":"npc_dota_hero_rubick","id":86,"localized_name":"Rubick"},{"name":"npc_dota_hero_disruptor","id":87,"localized_name":"Disruptor"},{"name":"npc_dota_hero_nyx_assassin","id":88,"localized_name":"Nyx Assassin"},{"name":"npc_dota_hero_naga_siren","id":89,"localized_name":"Naga Siren"},{"name":"npc_dota_hero_keeper_of_the_light","id":90,"localized_name":"Keeper of the Light"},{"name":"npc_dota_hero_wisp","id":91,"localized_name":"Io"},{"name":"npc_dota_hero_visage","id":92,"localized_name":"Visage"},{"name":"npc_dota_hero_slark","id":93,"localized_name":"Slark"},{"name":"npc_dota_hero_medusa","id":94,"localized_name":"Medusa"},{"name":"npc_dota_hero_troll_warlord","id":95,"localized_name":"Troll Warlord"},{"name":"npc_dota_hero_centaur","id":96,"localized_name":"Centaur Warrunner"},{"name":"npc_dota_hero_magnataur","id":97,"localized_name":"Magnus"},{"name":"npc_dota_hero_shredder","id":98,"localized_name":"Timbersaw"},{"name":"npc_dota_hero_bristleback","id":99,"localized_name":"Bristleback"},{"name":"npc_dota_hero_tusk","id":100,"localized_name":"Tusk"},{"name":"npc_dota_hero_skywrath_mage","id":101,"localized_name":"Skywrath Mage"},{"name":"npc_dota_hero_abaddon","id":102,"localized_name":"Abaddon"},{"name":"npc_dota_hero_elder_titan","id":103,"localized_name":"Elder Titan"},{"name":"npc_dota_hero_legion_commander","id":104,"localized_name":"Legion Commander"},{"name":"npc_dota_hero_ember_spirit","id":106,"localized_name":"Ember Spirit"},{"name":"npc_dota_hero_earth_spirit","id":107,"localized_name":"Earth Spirit"},{"name":"npc_dota_hero_terrorblade","id":109,"localized_name":"Terrorblade"},{"name":"npc_dota_hero_phoenix","id":110,"localized_name":"Phoenix"},{"name":"npc_dota_hero_oracle","id":111,"localized_name":"Oracle"},{"name":"npc_dota_hero_techies","id":105,"localized_name":"Techies"},{"name":"npc_dota_hero_winter_wyvern","id":112,"localized_name":"Winter Wyvern"},{"name":"npc_dota_hero_arc_warden","id":113,"localized_name":"Arc Warden"},{"name":"npc_dota_hero_abyssal_underlord","id":108,"localized_name":"Underlord"},{"name":"npc_dota_hero_monkey_king","id":114,"localized_name":"Monkey King"},{"name":"npc_dota_hero_pangolier","id":120,"localized_name":"Pangolier"},{"name":"npc_dota_hero_dark_willow","id":119,"localized_name":"Dark Willow"},{"name":"npc_dota_hero_grimstroke","id":121,"localized_name":"Grimstroke"},{"name":"npc_dota_hero_mars","id":129,"localized_name":"Mars"},{"name":"npc_dota_hero_void_spirit","id":126,"localized_name":"Void Spirit"},{"name":"npc_dota_hero_snapfire","id":128,"localized_name":"Snapfire"},{"name":"npc_dota_hero_hoodwink","id":123,"localized_name":"Hoodwink"},{"name":"npc_dota_hero_dawnbreaker","id":135,"localized_name":"Dawnbreaker"},{"name":"npc_dota_hero_marci","id":136,"localized_name":"Marci"},{"name":"npc_dota_hero_primal_beast","id":137,"localized_name":"Primal Beast"}]`
	str_cn = `[{"name":"npc_dota_hero_antimage","id":1,"localized_name":"敌法师"},{"name":"npc_dota_hero_axe","id":2,"localized_name":"斧王"},{"name":"npc_dota_hero_bane","id":3,"localized_name":"祸乱之源"},{"name":"npc_dota_hero_bloodseeker","id":4,"localized_name":"血魔"},{"name":"npc_dota_hero_crystal_maiden","id":5,"localized_name":"水晶室女"},{"name":"npc_dota_hero_drow_ranger","id":6,"localized_name":"卓尔游侠"},{"name":"npc_dota_hero_earthshaker","id":7,"localized_name":"撼地者"},{"name":"npc_dota_hero_juggernaut","id":8,"localized_name":"主宰"},{"name":"npc_dota_hero_mirana","id":9,"localized_name":"米拉娜"},{"name":"npc_dota_hero_nevermore","id":11,"localized_name":"影魔"},{"name":"npc_dota_hero_morphling","id":10,"localized_name":"变体精灵"},{"name":"npc_dota_hero_phantom_lancer","id":12,"localized_name":"幻影长矛手"},{"name":"npc_dota_hero_puck","id":13,"localized_name":"帕克"},{"name":"npc_dota_hero_pudge","id":14,"localized_name":"帕吉"},{"name":"npc_dota_hero_razor","id":15,"localized_name":"剃刀"},{"name":"npc_dota_hero_sand_king","id":16,"localized_name":"沙王"},{"name":"npc_dota_hero_storm_spirit","id":17,"localized_name":"风暴之灵"},{"name":"npc_dota_hero_sven","id":18,"localized_name":"斯温"},{"name":"npc_dota_hero_tiny","id":19,"localized_name":"小小"},{"name":"npc_dota_hero_vengefulspirit","id":20,"localized_name":"复仇之魂"},{"name":"npc_dota_hero_windrunner","id":21,"localized_name":"风行者"},{"name":"npc_dota_hero_zuus","id":22,"localized_name":"宙斯"},{"name":"npc_dota_hero_kunkka","id":23,"localized_name":"昆卡"},{"name":"npc_dota_hero_lina","id":25,"localized_name":"莉娜"},{"name":"npc_dota_hero_lich","id":31,"localized_name":"巫妖"},{"name":"npc_dota_hero_lion","id":26,"localized_name":"莱恩"},{"name":"npc_dota_hero_shadow_shaman","id":27,"localized_name":"暗影萨满"},{"name":"npc_dota_hero_slardar","id":28,"localized_name":"斯拉达"},{"name":"npc_dota_hero_tidehunter","id":29,"localized_name":"潮汐猎人"},{"name":"npc_dota_hero_witch_doctor","id":30,"localized_name":"巫医"},{"name":"npc_dota_hero_riki","id":32,"localized_name":"力丸"},{"name":"npc_dota_hero_enigma","id":33,"localized_name":"谜团"},{"name":"npc_dota_hero_tinker","id":34,"localized_name":"修补匠"},{"name":"npc_dota_hero_sniper","id":35,"localized_name":"狙击手"},{"name":"npc_dota_hero_necrolyte","id":36,"localized_name":"瘟疫法师"},{"name":"npc_dota_hero_warlock","id":37,"localized_name":"术士"},{"name":"npc_dota_hero_beastmaster","id":38,"localized_name":"兽王"},{"name":"npc_dota_hero_queenofpain","id":39,"localized_name":"痛苦女王"},{"name":"npc_dota_hero_venomancer","id":40,"localized_name":"剧毒术士"},{"name":"npc_dota_hero_faceless_void","id":41,"localized_name":"虚空假面"},{"name":"npc_dota_hero_skeleton_king","id":42,"localized_name":"冥魂大帝"},{"name":"npc_dota_hero_death_prophet","id":43,"localized_name":"死亡先知"},{"name":"npc_dota_hero_phantom_assassin","id":44,"localized_name":"幻影刺客"},{"name":"npc_dota_hero_pugna","id":45,"localized_name":"帕格纳"},{"name":"npc_dota_hero_templar_assassin","id":46,"localized_name":"圣堂刺客"},{"name":"npc_dota_hero_viper","id":47,"localized_name":"冥界亚龙"},{"name":"npc_dota_hero_luna","id":48,"localized_name":"露娜"},{"name":"npc_dota_hero_dragon_knight","id":49,"localized_name":"龙骑士"},{"name":"npc_dota_hero_dazzle","id":50,"localized_name":"戴泽"},{"name":"npc_dota_hero_rattletrap","id":51,"localized_name":"发条技师"},{"name":"npc_dota_hero_leshrac","id":52,"localized_name":"拉席克"},{"name":"npc_dota_hero_furion","id":53,"localized_name":"先知"},{"name":"npc_dota_hero_life_stealer","id":54,"localized_name":"噬魂鬼"},{"name":"npc_dota_hero_dark_seer","id":55,"localized_name":"黑暗贤者"},{"name":"npc_dota_hero_clinkz","id":56,"localized_name":"克林克兹"},{"name":"npc_dota_hero_omniknight","id":57,"localized_name":"全能骑士"},{"name":"npc_dota_hero_enchantress","id":58,"localized_name":"魅惑魔女"},{"name":"npc_dota_hero_huskar","id":59,"localized_name":"哈斯卡"},{"name":"npc_dota_hero_night_stalker","id":60,"localized_name":"暗夜魔王"},{"name":"npc_dota_hero_broodmother","id":61,"localized_name":"育母蜘蛛"},{"name":"npc_dota_hero_bounty_hunter","id":62,"localized_name":"赏金猎人"},{"name":"npc_dota_hero_weaver","id":63,"localized_name":"编织者"},{"name":"npc_dota_hero_jakiro","id":64,"localized_name":"杰奇洛"},{"name":"npc_dota_hero_batrider","id":65,"localized_name":"蝙蝠骑士"},{"name":"npc_dota_hero_chen","id":66,"localized_name":"陈"},{"name":"npc_dota_hero_spectre","id":67,"localized_name":"幽鬼"},{"name":"npc_dota_hero_doom_bringer","id":69,"localized_name":"末日使者"},{"name":"npc_dota_hero_ancient_apparition","id":68,"localized_name":"远古冰魄"},{"name":"npc_dota_hero_ursa","id":70,"localized_name":"熊战士"},{"name":"npc_dota_hero_spirit_breaker","id":71,"localized_name":"裂魂人"},{"name":"npc_dota_hero_gyrocopter","id":72,"localized_name":"矮人直升机"},{"name":"npc_dota_hero_alchemist","id":73,"localized_name":"炼金术士"},{"name":"npc_dota_hero_invoker","id":74,"localized_name":"祈求者"},{"name":"npc_dota_hero_silencer","id":75,"localized_name":"沉默术士"},{"name":"npc_dota_hero_obsidian_destroyer","id":76,"localized_name":"殁境神蚀者"},{"name":"npc_dota_hero_lycan","id":77,"localized_name":"狼人"},{"name":"npc_dota_hero_brewmaster","id":78,"localized_name":"酒仙"},{"name":"npc_dota_hero_shadow_demon","id":79,"localized_name":"暗影恶魔"},{"name":"npc_dota_hero_lone_druid","id":80,"localized_name":"德鲁伊"},{"name":"npc_dota_hero_chaos_knight","id":81,"localized_name":"混沌骑士"},{"name":"npc_dota_hero_meepo","id":82,"localized_name":"米波"},{"name":"npc_dota_hero_treant","id":83,"localized_name":"树精卫士"},{"name":"npc_dota_hero_ogre_magi","id":84,"localized_name":"食人魔魔法师"},{"name":"npc_dota_hero_undying","id":85,"localized_name":"不朽尸王"},{"name":"npc_dota_hero_rubick","id":86,"localized_name":"拉比克"},{"name":"npc_dota_hero_disruptor","id":87,"localized_name":"干扰者"},{"name":"npc_dota_hero_nyx_assassin","id":88,"localized_name":"司夜刺客"},{"name":"npc_dota_hero_naga_siren","id":89,"localized_name":"娜迦海妖"},{"name":"npc_dota_hero_keeper_of_the_light","id":90,"localized_name":"光之守卫"},{"name":"npc_dota_hero_wisp","id":91,"localized_name":"艾欧"},{"name":"npc_dota_hero_visage","id":92,"localized_name":"维萨吉"},{"name":"npc_dota_hero_slark","id":93,"localized_name":"斯拉克"},{"name":"npc_dota_hero_medusa","id":94,"localized_name":"美杜莎"},{"name":"npc_dota_hero_troll_warlord","id":95,"localized_name":"巨魔战将"},{"name":"npc_dota_hero_centaur","id":96,"localized_name":"半人马战行者"},{"name":"npc_dota_hero_magnataur","id":97,"localized_name":"马格纳斯"},{"name":"npc_dota_hero_shredder","id":98,"localized_name":"伐木机"},{"name":"npc_dota_hero_bristleback","id":99,"localized_name":"钢背兽"},{"name":"npc_dota_hero_tusk","id":100,"localized_name":"巨牙海民"},{"name":"npc_dota_hero_skywrath_mage","id":101,"localized_name":"天怒法师"},{"name":"npc_dota_hero_abaddon","id":102,"localized_name":"亚巴顿"},{"name":"npc_dota_hero_elder_titan","id":103,"localized_name":"上古巨神"},{"name":"npc_dota_hero_legion_commander","id":104,"localized_name":"军团指挥官"},{"name":"npc_dota_hero_ember_spirit","id":106,"localized_name":"灰烬之灵"},{"name":"npc_dota_hero_earth_spirit","id":107,"localized_name":"大地之灵"},{"name":"npc_dota_hero_terrorblade","id":109,"localized_name":"恐怖利刃"},{"name":"npc_dota_hero_phoenix","id":110,"localized_name":"凤凰"},{"name":"npc_dota_hero_oracle","id":111,"localized_name":"神谕者"},{"name":"npc_dota_hero_techies","id":105,"localized_name":"工程师"},{"name":"npc_dota_hero_winter_wyvern","id":112,"localized_name":"寒冬飞龙"},{"name":"npc_dota_hero_arc_warden","id":113,"localized_name":"天穹守望者"},{"name":"npc_dota_hero_abyssal_underlord","id":108,"localized_name":"孽主"},{"name":"npc_dota_hero_monkey_king","id":114,"localized_name":"齐天大圣"},{"name":"npc_dota_hero_pangolier","id":120,"localized_name":"石鳞剑士"},{"name":"npc_dota_hero_dark_willow","id":119,"localized_name":"邪影芳灵"},{"name":"npc_dota_hero_grimstroke","id":121,"localized_name":"天涯墨客"},{"name":"npc_dota_hero_mars","id":129,"localized_name":"玛尔斯"},{"name":"npc_dota_hero_void_spirit","id":126,"localized_name":"虚无之灵"},{"name":"npc_dota_hero_snapfire","id":128,"localized_name":"电炎绝手"},{"name":"npc_dota_hero_hoodwink","id":123,"localized_name":"森海飞霞"},{"name":"npc_dota_hero_dawnbreaker","id":135,"localized_name":"破晓辰星"},{"name":"npc_dota_hero_marci","id":136,"localized_name":"玛西"},{"name":"npc_dota_hero_primal_beast","id":137,"localized_name":"獸"}]`
)

func TestDota2Hero(t *testing.T) {
	devMongoCfg := &commonConfig.MongoConfig{
		Addr:       []string{"dds-wz9cc8c0e4afffb41.mongodb.rds.aliyuncs.com:3717", "dds-wz9cc8c0e4afffb42.mongodb.rds.aliyuncs.com:3717"},
		User:       "app_rw",
		Passwd:     "v2Wo$0pwxo^ZHc9bkgh",
		AuthSource: "esports-wiki",
		ReplicaSet: "mgset-58611127",
		DB:         "esports-wiki",
	}
	mongoDb, err := database.InitMongo(devMongoCfg)
	if err != nil {
		t.Fatal(err)
		return
	}
	// IyHS7zsasn7b1VJb
	heroes_en := []heroe{}
	heroes_cn := []heroe{}
	// mobaHeros := []MobaHero{}
	ctx := context.Background()
	url := "https://cdn.datdota.com/images/heroes/%s_full.png"

	json.Unmarshal([]byte(str_en), &heroes_en)
	json.Unmarshal([]byte(str_cn), &heroes_cn)
	mobaHeros := []interface{}{}

	for i, v := range heroes_en {
		uuid := global.GenerateUniqueId(16)
		heroName := strings.ReplaceAll(v.Name, "npc_dota_hero_", "")
		headUrl := fmt.Sprintf(url, heroName)
		h := MobaHero{
			UniqueId:  uuid,
			GameId:    "IyHS7zsasn7b1VJb",
			BusId:     v.Id,
			Name:      v.Name,
			Icon:      headUrl,
			NameZh:    heroes_cn[i].LocalizedName,
			NameEn:    v.LocalizedName,
			NameShort: "",
			Tag:       []string{},
			Status:    2,
		}
		mobaHeros = append(mobaHeros, h)
	}
	result, err := mongoDb.Collection("game_moba_hero").InsertMany(ctx, mobaHeros, nil)
	if err != nil {
		t.Fatal(err)
	}
	t.Log(result)

	// t.Log(mobaHeros)

	// t.Log(heroes)
	// json.Unmarshal([]byte(str1), heroes)
	// t.Log(heroes)
}
